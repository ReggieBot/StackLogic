<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.geometry.Insets?>

<!--
    MainView with Custom Title Bar
    ==============================
    Since we use StageStyle.UNDECORATED, we need our own:
    - Title bar with app name
    - Window control buttons (minimize, maximize, close)
    - Drag functionality to move the window
-->
<VBox xmlns:fx="http://javafx.com/fxml"
      fx:id="rootPane"
      fx:controller="com.stacklogic.controller.MainController"
      styleClass="root-pane">

    <!-- CUSTOM TITLE BAR -->
    <HBox fx:id="titleBar" styleClass="custom-title-bar" alignment="CENTER_LEFT"
          onMousePressed="#handleTitleBarPressed"
          onMouseDragged="#handleTitleBarDragged"
          onMouseReleased="#handleTitleBarReleased">

        <!-- App Icon/Logo area -->
        <HBox alignment="CENTER_LEFT" spacing="10">
            <padding><Insets left="12"/></padding>
            <Label text="♠" styleClass="app-icon"/>
            <Label text="StackLogic" styleClass="title-bar-text"/>
        </HBox>

        <!-- Spacer to push window controls to the right -->
        <Region HBox.hgrow="ALWAYS"/>

        <!-- Window Control Buttons -->
        <HBox styleClass="window-controls" spacing="0">
            <Button fx:id="minimizeBtn" text="─" onAction="#handleMinimize" styleClass="window-btn"/>
            <Button fx:id="maximizeBtn" text="□" onAction="#handleMaximize" styleClass="window-btn"/>
            <Button fx:id="closeBtn" text="✕" onAction="#handleClose" styleClass="window-btn close-btn"/>
        </HBox>
    </HBox>

    <!-- MAIN CONTENT AREA -->
    <BorderPane VBox.vgrow="ALWAYS" styleClass="main-content">

        <!-- TOP: Navigation header with app branding -->
        <top>
            <HBox styleClass="header" alignment="CENTER_LEFT">
                <padding><Insets top="12" right="20" bottom="12" left="20"/></padding>
                <Label text="Poker Dashboard" styleClass="app-title"/>
            </HBox>
        </top>

        <!-- CENTER: Tab pane for switching between features -->
        <center>
            <TabPane fx:id="mainTabPane" tabClosingPolicy="UNAVAILABLE">

                <Tab text="Ranges" closable="false">
                    <fx:include source="RangeView.fxml"/>
                </Tab>

                <Tab text="Pot Odds" closable="false">
                    <fx:include source="PotOddsView.fxml"/>
                </Tab>

                <Tab text="Sessions" closable="false">
                    <fx:include source="SessionView.fxml"/>
                </Tab>

                <Tab text="Bankroll" closable="false">
                    <fx:include source="BankrollView.fxml"/>
                </Tab>

                <Tab text="Charts" closable="false">
                    <fx:include source="ChartsView.fxml"/>
                </Tab>

                <Tab text="Notes" closable="false">
                    <fx:include source="NotesView.fxml"/>
                </Tab>

                <Tab text="Trainer" closable="false">
                    <fx:include source="TrainerView.fxml"/>
                </Tab>

            </TabPane>
        </center>

        <!-- BOTTOM: Status bar -->
        <bottom>
            <HBox styleClass="status-bar" alignment="CENTER_LEFT">
                <padding><Insets top="5" right="10" bottom="5" left="10"/></padding>
                <Label fx:id="statusLabel" text="Ready"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="versionLabel" text="v1.0" styleClass="version-label"/>
            </HBox>
        </bottom>

    </BorderPane>

</VBox>
