<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Separator?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.ColumnConstraints?>

<!--
    Pot Odds Calculator Layout
    ==========================
    Left side: Input fields (pot, bet, equity)
    Right side: Results display
-->
<HBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.stacklogic.controller.PotOddsController"
      spacing="40"
      alignment="CENTER"
      styleClass="calculator-view">

    <padding><Insets top="30" right="40" bottom="30" left="40"/></padding>

    <!-- LEFT SIDE: Inputs -->
    <VBox spacing="25" styleClass="input-section">
        <Label text="Pot Odds Calculator" styleClass="section-title"/>

        <!-- Pot Size Input -->
        <VBox spacing="8">
            <Label text="Pot Size (before villain bets)" styleClass="input-label"/>
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="$" styleClass="currency-symbol"/>
                <TextField fx:id="potSizeField" promptText="e.g., 10.00"
                           styleClass="number-input" prefWidth="150"/>
            </HBox>
        </VBox>

        <!-- Villain Bet Input -->
        <VBox spacing="8">
            <Label text="Villain's Bet/Raise" styleClass="input-label"/>
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="$" styleClass="currency-symbol"/>
                <TextField fx:id="villainBetField" promptText="e.g., 5.00"
                           styleClass="number-input" prefWidth="150"/>
            </HBox>
        </VBox>

        <Separator/>

        <!-- Equity Input with Slider -->
        <VBox spacing="8">
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="Your Estimated Equity" styleClass="input-label"/>
                <Label fx:id="equityDisplayLabel" text="50%" styleClass="equity-display"/>
            </HBox>
            <Slider fx:id="equitySlider" min="0" max="100" value="50"
                    showTickLabels="true" showTickMarks="true"
                    majorTickUnit="25" minorTickCount="4"
                    prefWidth="280"/>
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="Or enter manually:" styleClass="small-label"/>
                <TextField fx:id="equityField" promptText="50"
                           styleClass="number-input-small" prefWidth="60"/>
                <Label text="%" styleClass="small-label"/>
            </HBox>
        </VBox>

        <Separator/>

        <!-- Calculate Button -->
        <HBox spacing="15">
            <Button text="Calculate" onAction="#handleCalculate" styleClass="button"/>
            <Button text="Clear" onAction="#handleClear" styleClass="button secondary"/>
        </HBox>

    </VBox>

    <!-- Vertical Separator -->
    <Separator orientation="VERTICAL"/>

    <!-- RIGHT SIDE: Results -->
    <VBox spacing="20" styleClass="results-section" minWidth="300">
        <Label text="Results" styleClass="section-title"/>

        <!-- Results Grid -->
        <GridPane hgap="15" vgap="12" styleClass="results-grid">
            <columnConstraints>
                <ColumnConstraints minWidth="140"/>
                <ColumnConstraints minWidth="120"/>
            </columnConstraints>

            <!-- Pot Odds -->
            <Label text="Pot Odds:" styleClass="result-label" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
            <Label fx:id="potOddsPercentLabel" text="--" styleClass="result-value" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

            <Label text="Pot Odds Ratio:" styleClass="result-label" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
            <Label fx:id="potOddsRatioLabel" text="--" styleClass="result-value" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

            <!-- Required Equity -->
            <Label text="Required Equity:" styleClass="result-label" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
            <Label fx:id="requiredEquityLabel" text="--" styleClass="result-value" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

            <!-- Your Equity -->
            <Label text="Your Equity:" styleClass="result-label" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
            <Label fx:id="yourEquityLabel" text="--" styleClass="result-value" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

        </GridPane>

        <Separator/>

        <!-- EV Calculation -->
        <VBox spacing="8">
            <Label text="Expected Value (EV)" styleClass="subsection-title"/>
            <Label fx:id="evFormulaLabel" text="" styleClass="ev-formula" wrapText="true"/>
            <Label fx:id="evResultLabel" text="--" styleClass="ev-result"/>
        </VBox>

        <Separator/>

        <!-- Recommendation -->
        <VBox spacing="8" alignment="CENTER">
            <Label text="Recommendation" styleClass="subsection-title"/>
            <Label fx:id="recommendationLabel" text="Enter values to calculate"
                   styleClass="recommendation" wrapText="true"/>
        </VBox>

    </VBox>

</HBox>
